2025-11-02 00:16:45.519 +03:00 [INF] Kafka consumer configured for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-11-02 00:16:45.563 +03:00 [INF] Starting Kafka consumer for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-11-02 00:16:45.569 +03:00 [INF] Waiting 10 seconds for Kafka to be ready...
2025-11-02 00:17:05.341 +03:00 [INF] Incoming request: GET /api/Stock/products/aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
2025-11-02 00:17:05.374 +03:00 [INF] Getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
2025-11-02 00:17:05.383 +03:00 [INF] Handling command/query: GetProductStockQuery {"ProductId":"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa","$type":"GetProductStockQuery"}
2025-11-02 00:17:05.395 +03:00 [INF] Getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
2025-11-02 00:17:05.399 +03:00 [ERR] Error getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
System.NullReferenceException: Object reference not set to an instance of an object.
   at WareHouse.Application.Queries.GetProductStockQueryHandler.Handle(GetProductStockQuery request, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Queries\GetProductStockQuery.cs:line 27
   at WareHouse.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\ValidationBehavior.cs:line 36
   at WareHouse.Application.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\LoggingBehavior.cs:line 22
   at WareHouse.API.Controllers.StockController.GetStockLevel(Guid productId) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Controllers\StockController.cs:line 35
2025-11-02 00:17:05.432 +03:00 [INF] Request completed: GET /api/Stock/products/aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa - 404 in 92.4788ms
2025-11-02 00:22:43.381 +03:00 [INF] Kafka consumer configured for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-11-02 00:22:43.419 +03:00 [INF] Starting Kafka consumer for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-11-02 00:22:43.423 +03:00 [INF] Waiting 10 seconds for Kafka to be ready...
2025-11-02 00:23:13.528 +03:00 [INF] Incoming request: GET /api/Stock/products/aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
2025-11-02 00:23:13.561 +03:00 [INF] Getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
2025-11-02 00:23:13.570 +03:00 [INF] Handling command/query: GetProductStockQuery {"ProductId":"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa","$type":"GetProductStockQuery"}
2025-11-02 00:23:13.581 +03:00 [INF] Getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
2025-11-02 00:23:13.584 +03:00 [ERR] Error getting stock level for product "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
System.NullReferenceException: Object reference not set to an instance of an object.
   at WareHouse.Application.Queries.GetProductStockQueryHandler.Handle(GetProductStockQuery request, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Queries\GetProductStockQuery.cs:line 28
   at WareHouse.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\ValidationBehavior.cs:line 36
   at WareHouse.Application.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\LoggingBehavior.cs:line 22
   at WareHouse.API.Controllers.StockController.GetStockLevel(Guid productId) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Controllers\StockController.cs:line 35
2025-11-02 00:23:13.610 +03:00 [INF] Request completed: GET /api/Stock/products/aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa - 404 in 82.1088ms
2025-11-02 00:31:11.106 +03:00 [INF] Incoming request: GET /api/Stock/low-stock
2025-11-02 00:31:11.118 +03:00 [INF] Getting low stock items
2025-11-02 00:31:11.123 +03:00 [INF] Handling command/query: GetLowStockQuery {"$type":"GetLowStockQuery"}
2025-11-02 00:31:11.130 +03:00 [INF] Getting low stock items
2025-11-02 00:31:11.223 +03:00 [INF] Found 6 low stock items
2025-11-02 00:31:11.229 +03:00 [INF] Handled command/query: GetLowStockQuery
2025-11-02 00:31:11.239 +03:00 [INF] Request completed: GET /api/Stock/low-stock - 200 in 133.0082ms
