2025-10-30 22:51:19.910 +03:00 [INF] Kafka consumer configured for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 22:51:19.969 +03:00 [INF] Starting Kafka consumer for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 22:51:19.972 +03:00 [INF] Waiting 10 seconds for Kafka to be ready...
2025-10-30 22:51:32.145 +03:00 [INF] Incoming request: GET /api/Health
2025-10-30 22:51:32.196 +03:00 [INF] Health check requested
2025-10-30 22:51:32.216 +03:00 [INF] Request completed: GET /api/Health - 200 in 72.8093ms
2025-10-30 22:51:47.091 +03:00 [INF] Incoming request: GET /api/Health/detailed
2025-10-30 22:51:47.118 +03:00 [INF] Detailed health check requested
2025-10-30 22:51:47.130 +03:00 [INF] Request completed: GET /api/Health/detailed - 200 in 39.6589ms
2025-10-30 23:18:44.586 +03:00 [INF] Kafka consumer configured for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 23:18:44.664 +03:00 [INF] Starting Kafka consumer for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 23:18:44.669 +03:00 [INF] Waiting 10 seconds for Kafka to be ready...
2025-10-30 23:19:07.983 +03:00 [INF] Incoming request: GET /api/Orders
2025-10-30 23:19:08.037 +03:00 [INF] Getting orders with status Picking
2025-10-30 23:19:08.046 +03:00 [INF] Handling command/query: GetOrdersByStatusQuery {"Status":"Picking","$type":"GetOrdersByStatusQuery"}
2025-10-30 23:19:08.057 +03:00 [INF] Getting orders with status Picking
2025-10-30 23:19:08.178 +03:00 [INF] Handled command/query: GetOrdersByStatusQuery
2025-10-30 23:19:08.199 +03:00 [INF] Request completed: GET /api/Orders - 200 in 216.8959ms
2025-10-30 23:24:09.950 +03:00 [INF] Incoming request: GET /api/Orders
2025-10-30 23:24:09.956 +03:00 [INF] Getting orders with status Picking
2025-10-30 23:24:09.959 +03:00 [INF] Handling command/query: GetOrdersByStatusQuery {"Status":"Picking","$type":"GetOrdersByStatusQuery"}
2025-10-30 23:24:09.966 +03:00 [INF] Getting orders with status Picking
2025-10-30 23:24:09.991 +03:00 [INF] Handled command/query: GetOrdersByStatusQuery
2025-10-30 23:24:09.994 +03:00 [INF] Request completed: GET /api/Orders - 200 in 43.21ms
2025-10-30 23:37:39.062 +03:00 [INF] Incoming request: GET /api/Orders/c3d4e5f6-3456-7890-12cd-ef3456789012
2025-10-30 23:37:39.071 +03:00 [INF] Getting order "c3d4e5f6-3456-7890-12cd-ef3456789012"
2025-10-30 23:37:39.074 +03:00 [INF] Handling command/query: GetOrderQuery {"OrderId":"c3d4e5f6-3456-7890-12cd-ef3456789012","$type":"GetOrderQuery"}
2025-10-30 23:37:39.081 +03:00 [INF] Getting order "c3d4e5f6-3456-7890-12cd-ef3456789012"
2025-10-30 23:37:39.106 +03:00 [ERR] An unhandled exception has occurred: Requested value 'Completed' was not found.
System.ArgumentException: Requested value 'Completed' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at CallSite.Target(Closure, CallSite, Type, Object)
   at WareHouse.Infrastructure.Data.Repositories.OrderRepository.CreateOrderAggregateFromDynamic(Object result) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Infrastructure\Data\Repositories\OrderRepository.cs:line 283
   at System.Dynamic.UpdateDelegates.UpdateAndExecute2[T0,T1,TRet](CallSite site, T0 arg0, T1 arg1)
   at WareHouse.Infrastructure.Data.Repositories.OrderRepository.GetByIdAsync(Guid id) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Infrastructure\Data\Repositories\OrderRepository.cs:line 44
   at WareHouse.Application.Queries.GetOrderQueryHandler.Handle(GetOrderQuery request, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Queries\GetOrderQuery.cs:line 26
   at WareHouse.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\ValidationBehavior.cs:line 36
   at WareHouse.Application.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\LoggingBehavior.cs:line 22
   at WareHouse.API.Controllers.OrdersController.GetOrder(Guid orderId) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Controllers\OrdersController.cs:line 29
   at lambda_method55(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WareHouse.API.Middleware.CorrelationIdMiddleware.InvokeAsync(HttpContext context) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Middleware\CorrelationIdMiddleware.cs:line 27
   at WareHouse.API.Middleware.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Middleware\RequestLoggingMiddleware.cs:line 23
   at WareHouse.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Middleware\GlobalExceptionHandlerMiddleware.cs:line 27
