2025-10-30 21:48:37.080 +03:00 [INF] Kafka consumer configured for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 21:48:37.213 +03:00 [INF] Starting Kafka consumer for topics: orders, warehouse-commands, warehouse-events, picking-tasks, stock-updates
2025-10-30 21:48:37.233 +03:00 [INF] Waiting 10 seconds for Kafka to be ready...
2025-10-30 21:49:07.044 +03:00 [INF] Incoming request: GET /api/Stock/low-stock
2025-10-30 21:49:07.132 +03:00 [INF] Getting low stock items
2025-10-30 21:49:07.157 +03:00 [INF] Handling command/query: GetLowStockQuery {"$type":"GetLowStockQuery"}
2025-10-30 21:49:07.183 +03:00 [INF] Getting low stock items
2025-10-30 21:49:07.194 +03:00 [ERR] Error getting low stock items
System.NullReferenceException: Object reference not set to an instance of an object.
   at WareHouse.Application.Queries.GetLowStockQueryHandler.Handle(GetLowStockQuery request, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Queries\GetLowStockQuery.cs:line 25
   at WareHouse.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\ValidationBehavior.cs:line 36
   at WareHouse.Application.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.Application\Behaviors\LoggingBehavior.cs:line 22
   at WareHouse.API.Controllers.StockController.GetLowStockItems() in C:\Backend_Project\YandexLavka\WareHouseService\WareHouse.API\Controllers\StockController.cs:line 55
2025-10-30 21:49:07.290 +03:00 [INF] Request completed: GET /api/Stock/low-stock - 500 in 247.986ms
2025-10-30 21:50:10.006 +03:00 [INF] Incoming request: POST /api/Stock/products/3f9bcc41-4a35-496b-a008-30428253ecb4/restock
2025-10-30 21:50:10.040 +03:00 [INF] Restocking product "3f9bcc41-4a35-496b-a008-30428253ecb4"
2025-10-30 21:50:10.061 +03:00 [INF] Handling command/query: UpdateStockCommand {"ProductId":"3f9bcc41-4a35-496b-a008-30428253ecb4","Quantity":6,"Location":"B-02-02","Operation":"restock","$type":"UpdateStockCommand"}
2025-10-30 21:50:10.088 +03:00 [INF] Updating stock for product "3f9bcc41-4a35-496b-a008-30428253ecb4" at B-02-02. Operation: restock
2025-10-30 21:50:10.162 +03:00 [INF] Restocked 6 units for product "3f9bcc41-4a35-496b-a008-30428253ecb4"
2025-10-30 21:50:10.180 +03:00 [INF] Stock updated successfully for product "3f9bcc41-4a35-496b-a008-30428253ecb4". New quantity: 11
2025-10-30 21:50:10.183 +03:00 [INF] Handled command/query: UpdateStockCommand
2025-10-30 21:50:10.192 +03:00 [INF] Request completed: POST /api/Stock/products/3f9bcc41-4a35-496b-a008-30428253ecb4/restock - 200 in 185.7429ms
